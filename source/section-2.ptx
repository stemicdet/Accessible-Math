<?xml version="1.0" encoding="utf-8"?>
<section xml:id="section-2" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>The Derivative</title>
  
  <p>
    The modern definition of the derivative is defined as follows.
  </p>

  <definition>
    <statement>
    <p>
      Let <m>g:A \to \mathbf{R}</m> be a function defined on an interval <m>A</m>. Given <m>c\in A</m> the derivative of <m>g</m> at <m>c</m> is given by
    </p>
 

  <md>
    g'(c) = \lim_{x\to c} \frac{g(x)-g(c)}{x-c}
  </md>

  <p>
    provided this limit exists. In this case we say <m>g</m> is differentiable at <m>c</m>. If <m>g'</m> exists for all points <m>c \in A</m> we say that <m>g</m> is differentiable on <m>A</m>.
  </p>
  </statement>
   </definition>
  
<p>
  Hidden in this definition is the <m>\epsilon</m>-<m>\delta</m> relationship that comes from the way that the limit is defined. The <m>\epsilon</m>-<m>\delta</m> definition of the derivative looks like this.
</p>
<definition>
<statement>
  <p>
  Let <m>g:A \to \mathbf{R}</m> be a function defined on an interval <m>A</m>. Then the derivative of <m>g</m> at <m>c \in A</m> is <m>L</m> if for every <m>\epsilon>0</m>, there exists <m>\delta>0</m> such that 
</p>

<md>
 \left| \frac{g(x)-g(c)}{x-c}-L \right| \le \epsilon
</md>

<p>
  whenever <m>|x-c| \le \delta</m>
</p>

<p>
  Note that by letting <m>x = c+h</m> the derivative can be rewritten as 
</p>

<md>
  \lim_{h\to 0} \frac{g(c+h)-g(c)}{h}
</md>
</statement>
</definition>

<p>
  In geometry a tangent line to a curve is a line that touches the curve and follows the same direction as the curve at the point of contact.
</p>

<figure>
      <caption>A tangent line to a curve</caption>
      <image source="desmos-graph (39).png" width="50%">
        <description>A picture of a cubic function with a tangent line.</description>
      </image>
    </figure>

  <p>
    A secant line to a curve is a line that passes through 2 points on a curve.
  </p>

  <p>
    The slope of the secant line on the curve <m>f(x)</m> that passes through points <m>(a,f(a))</m> and <m>(b,f(b))</m> is given by
  </p>

  <md>
    \frac{f(a)-f(b)}{a-b}
  </md>

  <p>
    As we take the limit as <m>a</m> approaches <m>b</m>, the secant line comes closer and closer to the tangent line at <m>b</m>. Thus the slope of the tangent line at <m>(b,f(b))</m> is
  </p>

<md>
  \lim_{a\to b} \frac{f(a)-f(b)}{a-b} = f'(b)
</md>

<p>
  The example with the absolute value function shows that a continuous function may fail to be differentiable; however, every differentiable function must be continuous.
</p>

<theorem xml:id="thm-diff-implies-cont">
  <statement>
    <p>
      If <m>g: A \to \mathbf{R}</m> is differentiable at a point <m>c \in A</m>, then <m>g</m> is continuous at <m>c</m> as well.
    </p>
  </statement>
</theorem>

<proof>
  <p>
    Since <m>g</m> is differentiable at <m>c</m>,

    <md>
      g'(c) = \lim_{x\to c} \frac{g(x)-g(c)}{x-c}
    </md>
    
    exists.
  </p>

  <p>
    We want to show <m>\displaystyle \lim_{x\to c} g(x) = g(c)</m>. By the Algebraic Limit Theorem for functional limits

    <md>
      \lim_{x\to c} (g(x)-g(c)) = \lim_{x\to c} \left( \frac{g(x)-g(c)}{x-c}\right)(x-c) = g'(c) \cdot 0 = 0.
    </md>
    
  </p>
    
    
  <p>
    It follows that 
    <md>
      \lim_{x\to c} g(x) = g(c).
    </md>
  </p>

</proof>

<p>
A differentiable function must be continuous, but does the derivative, when viewed as a function of <m>x</m> have to be continuous?
</p>  

<p>
During the 1870's French Mathematician Jules Houel was writing a calculus textbook and asked his friend Gaston Darboux to look it over. Darboux was unhappy with some of Houel's proofs and came up with the following <q> monster function </q> as a counterexample.
<md>
f(x) = \begin{cases} 
      \hfill  x^2 \sin(1/x) \amp \text{ if $x \neq 0$} \\
      \hfill  0 \hfill \amp \text{ if $x =0 $} \\
  \end{cases}
</md>
</p>

<p>
 Here is the graph of Darboux's function. 
</p>  

<figure>
      <caption>The graph of Darboux's function</caption>
      <image source="desmos-graph - 2022-12-06T202928.958.png" width="50%">
        <description>A picture of a function that oscilates between positive and negative values and tends to 0 as x approaches 0 .</description>
      </image>
    </figure>

<p>
  <em>Go on then and explain to me a little, I beg you, why it is that when one uses the rule for composition functions, the derivative of <m>y = x^2 \sin(1/x)</m> is found to be <m>-\cos(1/x) + 2x \sin(1/x)</m> which is indeterminate for <m>x=0</m> even though the true value is <m>\lim y/x = 0</m></em> -- excerpt from a letter from Darboux to Houel
</p>

<p>
  Let's verify Darboux's claim about the derivative of this function using the chain rule.
</p>

<p>
  The derivative of Darboux's function is 
  <md>
f(x) = \begin{cases} 
      \hfill  2x \sin(1/x) - \cos(1/x) \amp \text{ if $x \neq 0$} \\
      \hfill  0 \hfill \amp \text{ if $x =0 $} \\
  \end{cases}
</md>
</p>

  
<p>
  Here is the graph of the derivative of Darboux's function.
</p>

<figure>
      <caption>The graph of the derivative of Darboux's function</caption>
      <image source="desmos-graph - 2022-12-06T204150.873.png" width="50%">
        <description>A picture of a function that oscilates between positive and negative values but does not tend to a single value as x approaches 0 .</description>
      </image>
</figure>

<p>
  Darboux's function is continuous and differentiable everywhere; however its derivative is not continuous at $0$. Thus a derivative does not need to be a continuous function.
</p>

<p>
  The discontinuity of Darboux's function is an essential discontinuity, meaning that the one sided limits do not exist. In general this is the type of discontinuity that a derivative must have.

</p>



</section>
